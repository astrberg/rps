<ion-header translucent>
  <ion-toolbar>
    <ion-title>
      Shop
    </ion-title>
  </ion-toolbar>
</ion-header>

<!-- USE INFINITE SCROLL! -->
<ion-content>
<ion-fab vertical="top" horizontal="end" slot="fixed">
  <ion-fab-button [routerLink]="['/post']" >
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
</ion-fab>
  
 <ion-card *ngFor="let post of posts | async">
  <ion-slides>
    <ion-slide><img src={{post.imgUrl}} /></ion-slide>
  </ion-slides>
  <ion-card-content>
    <ion-card-subtitle>$<ion-text color="danger">{{ post.price }}</ion-text> SOLD BY <a [routerLink]="" (click)="selectUser()"> {{post.user}}</a></ion-card-subtitle>
    <ion-text>Location: {{ post.location }}, phone: {{ post.phone }}</ion-text>
    <ion-segment>
      <ion-segment-button (click)="buy(post.uid, post.user)">
        <ion-label>Buy</ion-label>
        <ion-icon name="basket"></ion-icon>
      </ion-segment-button>
      <ion-segment-button (click)="addFavorite(post, post.id)">
        <ion-label>Save</ion-label>
        <ion-icon name="heart"></ion-icon>
      </ion-segment-button>
      <ion-segment-button *ngIf="this.isCreator(post.uid)" (click)="deletePost(post.id)">
        <ion-label>Delete</ion-label>
        <ion-icon name="trash"></ion-icon>
      </ion-segment-button>
    </ion-segment>
  </ion-card-content>
 </ion-card>
</ion-content>


